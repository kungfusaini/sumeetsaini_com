<h2>Contact</h2>
<p>Get in touch via the form below or email/social media.</p>

<form id="contactForm" style="margin-top: 1.5rem;">
  
  <input 
    type="text" 
    id="contact-name" 
    name="name" 
    required
    autocomplete="name"
    placeholder="Name"
    style="
      width: 100%;
      padding: 0.75rem;
      background: var(--dark-grey);
      border: 1px solid var(--orange);
      color: var(--cream);
      font-family: var(--font-mono);
      font-size: 0.9rem;
      border-radius: 4px;
      transition: border-color 0.3s ease;
      margin-bottom: 1rem;
    "
    onfocus="this.style.borderColor='var(--cream)'"
    onblur="this.style.borderColor='var(--orange)'"
  />
  
  
  <input 
    type="email" 
    id="contact-email" 
    name="email" 
    required
    autocomplete="email"
    placeholder="Email"
    style="
      width: 100%;
      padding: 0.75rem;
      background: var(--dark-grey);
      border: 1px solid var(--orange);
      color: var(--cream);
      font-family: var(--font-mono);
      font-size: 0.9rem;
      border-radius: 4px;
      transition: border-color 0.3s ease;
      margin-bottom: 1rem;
    "
    onfocus="this.style.borderColor='var(--cream)'"
    onblur="this.style.borderColor='var(--orange)'"
  />
  
  
  <textarea 
    id="contact-message" 
    name="message" 
    required
    autocomplete="off"
    rows="5"
    placeholder="Your message..."
    style="
      width: 100%;
      padding: 0.75rem;
      background: var(--dark-grey);
      border: 1px solid var(--orange);
      color: var(--cream);
      font-family: var(--font-mono);
      font-size: 0.9rem;
      border-radius: 4px;
      resize: vertical;
      min-height: 120px;
      transition: border-color 0.3s ease;
      margin-bottom: 1.5rem;
    "
    onfocus="this.style.borderColor='var(--cream)'"
    onblur="this.style.borderColor='var(--orange)'"
  ></textarea>
  
  <button 
    type="submit"
    style="
      background: var(--dark-grey);
      color: var(--cream);
	  border: 1px solid var(--orange);
      padding: 0.75rem 2rem;
      font-family: var(--font-mono);
      font-size: 0.9rem;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
    "
    onmouseover="this.style.background='var(--orange)'; this.style.transform='translateY(-2px)'"
    onmouseout="this.style.background='var(--dark-grey)'; this.style.transform='translateY(0)'"
  >
    Send Message
  </button>
</form>

<div id="result" role="alert" aria-live="polite" style="margin-top: 0.5rem; font-weight: normal; padding: 0.5rem 0 0 0; font-size: 0.8rem; display: none;"></div>

<script>
// Handle UI updates for contact form
document.addEventListener('contactStateChange', function(e) {
	console.log('Contact state change event:', e.detail);
	const { button, state, form } = e.detail;
	const resultDiv = document.getElementById('result');
	
	switch(state.type) {
		case 'loading':
			button.textContent = 'Sending...';
			button.disabled = true;
			
			resultDiv.style.display = 'block';
			resultDiv.style.color = 'var(--orange)';
			resultDiv.style.padding = '0.5rem 0 0 0';
			resultDiv.style.fontSize = '0.8rem';
			resultDiv.textContent = state.message;
			break;
			
		case 'success':
			resultDiv.style.color = 'var(--orange)';
			resultDiv.textContent = state.message;
			
			if (state.resetForm) {
				form.reset();
			}
			
			// Keep button disabled and greyed out after success
			button.textContent = 'Message Sent';
			button.disabled = true;
			button.style.background = 'var(--dark-grey)';
			button.style.color = 'var(--grey)';
			button.style.cursor = 'not-allowed';
			button.onmouseover = null;
			button.onmouseout = null;
			break;
			
		case 'error':
			resultDiv.style.color = 'var(--orange)';
			resultDiv.textContent = state.message;
			
			// Reset button for retry
			button.textContent = 'Send Message';
			button.disabled = false;
			break;
	}
});
</script>
